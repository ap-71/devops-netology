# ДЗ 3.7

## 1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?
- linux:
```
ip -c -br addr
ifconfig -a
```
- windows
```
ipconfig /all
```

## 2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?
LLDP - открытая альтернатива проприетарному протоколу CDP от Cisco.

Пакет lldpd
```
lldpcli sh neigh - посмотреть соседей
lldpcli sh stat sum - общая статистика по всем интерфейсам
lldpcli sh int - информация по интерфейсам, на которых запущен lldpd
```
## 3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.

Технология называется VLAN
Пакет в Linux называется vlan

Пример конфигурации:
```
network:
  version: 2
  renderer: networkd
  ethernets:
    eth1:
      optional: yes
      addresses: 
        - 172.16.1.2/24
  vlans:
    vlan240:
      id: 240
      link: eth1 
      addresses:
        - 172.16.240.2/24
```
## 4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.
Технологии агрегации: bond и team

Типы агрегации:

- Команда:
```
modinfo bonding | grep mode
```
 - Вывод:
```
parm:           mode:Mode of operation; 0 for balance-rr, 1 for active-backup, 2 for balance-xor, 3 for broadcast, 4 for 802.3ad, 5 for balance-tlb, 6 for balance-alb (charp)
```
``` active-backup и broadcast ``` обеспечивают только отказоустойчивость

``` balance-tlb, balance-alb, balance-rr, balance-xor и 802.3ad ``` - обеспечат отказоустойчивость и балансировку

``` active-backup, balance-tlb и balance-alb ``` - можно настроить только на одном хосте

``` broadcast, balance-rr, balance-xor и 802.3ad ``` - потребуют настройки коммутатора

Пример конфигурации:
 - балансировка, ```balance-alb```:
 ```
bonds:
     bond0: 
       dhcp4: yes 
       interfaces:
         - eth1
         - eth2
       parameters:
         mode: balance-alb
         mii-monitor-interval: 2
 ```
## 5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.
В сети с маской 29 восемь адресов: 
 - 1-н ip - адрес сети
 - 6 ip - для хостов
 - 1-н ip - широковещательный адрес

Сеть с маской 24 можно разбить на 32 подсети с маской 29

Примеры:
- 10.10.10.0/29
- 10.10.10.8/29
- 10.10.10.16/29
- 10.10.10.24/29
- 10.10.10.32/29
- и т.д.

## 6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.
Можно использовать адреса из подсети 100.64.0.0/10

Маску используем - /26 = 64 адреса (62 для хостов)

## 7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?
Проверить таблицу:

- Linux: 
```
ip neigh
arp -n
```
- Windows: 
```
arp -a
```

Очистить кеш:

- Linux: 
```
ip neigh flush
```
- Windows: 
```
arp -d *
```

Удалить один IP:

- Linux: 
```
ip neigh delete <IP> dev <INTERFACE>, arp -d <IP>
```
- Windows: 
```
arp -d <IP>
```
